<!doctype html>
<html>
  <head>
    <script src="src/js/jquery.min.js"></script>
    <script src="src/jspsych.js"></script>
    <script src="src/plugins/jspsych-instructions.js"></script>
    <script src="src/plugins/jspsych-html.js"></script>
    <script src="src/plugins/jspsych-survey-text.js"></script>
    <link rel="stylesheet" href="src/css/jspsych.css"></link>
  </head>
  <body>
    <div id="jspsych-target"></div>
  </body>
  <script>

  var instructions_block = {
    type: 'instructions',
    pages: [
      'Welcome to the C.A.S. Psych 100B Experiment. When ready, click next to begin.',
      'You will begin by answering a series of questions.',
      'Your complete honesty in your answers is important for the validity of this study.',
      'Please turn off all cell phones and distracting materials. Are you ready? Click Next Now.'
    ],
    show_clickable_nav: true
  }
  
/*
    this demo will only work if run online or with special permissions enable offline
    for chrome, launch the browser from the command-line:
    chrome --allow-file-access-from-files
    */

  var check_consent = function(elem) {
    if ($('#consent_checkbox').is(':checked')) {
      return true;
    } else {
      alert("If you wish to participate, you must check the box next to the statement 'I agree to participate in this study.'");
      return false;
    }
    return false;
  };

  var consent_block = {
    "type": "html",
    "force_refresh": true,
    "url": "external_html/simple_consent.html",
    "cont_btn": "start",
    "check_fn": check_consent
  }

  
  var block_one_questions = [ "How old are you?", "Where were you born?" ];
  
  
  var questions_block_one = {
      type: 'survey-text',
      questions: block_one_questions
  };

  jsPsych.init({
    display_element: $('#jspsych-target'),
    timeline: [consent_block],
    //timeline: [instructions_block, consent_block, questions_block_one], 
    on_finish: function(){ jsPsych.data.displayData(); }
  });

  </script>
</html>